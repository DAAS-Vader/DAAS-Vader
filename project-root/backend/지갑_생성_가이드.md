# SUI 지갑 생성 및 설정 가이드

## 1. SUI CLI 설치

```bash
# macOS/Linux
curl -fLJO https://github.com/MystenLabs/sui/releases/latest/download/sui-macos-x86_64.tgz
tar -xf sui-macos-x86_64.tgz
sudo mv sui /usr/local/bin

# 또는 Homebrew로 설치
brew install sui

# 설치 확인
sui --version
```

## 2. 새 지갑 생성

```bash
# 새 지갑 생성
sui client new-address ed25519

# 출력 예시:
# Created new keypair for address with scheme "ed25519": 0x742d35Cc6634C0532925a3b8D2Aa2e5a
# Secret Recovery Phrase : abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about
```

**⚠️ 중요**: 출력된 니모닉 구문을 안전하게 저장하세요!

## 3. 기존 지갑 가져오기

이미 SUI 지갑이 있다면:

```bash
# 기존 니모닉으로 지갑 가져오기
sui client import-keypair "여기에 12개 또는 24개 단어 입력"

# 예시:
sui client import-keypair "abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"
```

## 4. 지갑 확인

```bash
# 현재 활성 지갑 주소 확인
sui client active-address

# 지갑 목록 보기
sui client addresses

# 지갑 잔액 확인
sui client balance
```

## 5. 테스트넷 토큰 받기

### SUI 토큰 (트랜잭션 수수료용)

```bash
# Discord 또는 웹 faucet 사용
# Discord: https://discord.gg/sui
# 웹 faucet: https://faucet.testnet.sui.io/

# CLI로 faucet 요청
sui client faucet
```

### WAL 토큰 (Walrus 저장 비용용)

```bash
# Walrus 테스트넷 faucet
curl -X POST https://faucet.testnet.walrus.space/v1/gas \
  -H "Content-Type: application/json" \
  -d '{"FixedAmountRequest": {"recipient": "YOUR_SUI_ADDRESS"}}'
```

## 6. 환경 변수 설정

생성한 니모닉을 `.env` 파일에 설정:

```bash
# .env 파일
USE_WALRUS_SDK=true
WALRUS_NETWORK=testnet
WALRUS_KEYPAIR_SEED="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"
```

## 7. 니모닉 내보내기/확인

기존 지갑의 니모닉을 확인하려면:

```bash
# 현재 지갑의 니모닉 확인 (주의: 민감한 정보!)
sui keytool export --key-identity 0x742d35Cc6634C0532925a3b8D2Aa2e5a

# 또는 지갑 파일에서 직접 확인
cat ~/.sui/sui_config/sui.keystore
```

## 보안 주의사항

### ⚠️ 절대 하지 말 것
- 니모닉을 코드에 하드코딩
- 니모닉을 Git 커밋에 포함
- 니모닉을 다른 사람과 공유
- 프로덕션과 개발에 같은 지갑 사용

### ✅ 권장 사항
- 개발용과 프로덕션용 지갑 분리
- 환경 변수로만 니모닉 관리
- 니모닉을 안전한 곳에 백업
- .env 파일을 .gitignore에 추가

## 예제 설정

### 개발 환경 (.env.development)
```bash
USE_WALRUS_SDK=true
WALRUS_NETWORK=testnet
WALRUS_KEYPAIR_SEED="develop test seed phrase for development only not real money"
```

### 프로덕션 환경 (.env.production)
```bash
USE_WALRUS_SDK=true
WALRUS_NETWORK=mainnet
WALRUS_KEYPAIR_SEED="secure production seed phrase with real funds"
```

## 문제 해결

### 잔액 부족 오류
```bash
# 잔액 확인
sui client balance

# SUI 토큰 부족시 faucet 요청
sui client faucet

# WAL 토큰 부족시 Walrus faucet 사용
curl -X POST https://faucet.testnet.walrus.space/v1/gas \
  -H "Content-Type: application/json" \
  -d '{"FixedAmountRequest": {"recipient": "YOUR_ADDRESS"}}'
```

### 잘못된 니모닉 오류
```bash
# 니모닉 유효성 검사
sui keytool import "your mnemonic phrase here" ed25519
```

### 네트워크 연결 오류
```bash
# 네트워크 설정 확인
sui client envs

# 테스트넷으로 전환
sui client new-env --alias testnet --rpc https://fullnode.testnet.sui.io:443
sui client switch --env testnet
```

이제 생성된 니모닉 구문을 WALRUS_KEYPAIR_SEED에 설정하면 됩니다!